define(["exports"],function(e){"use strict";function n(e){var n=e.substring(e.indexOf("src")).replace(/\\/g,"/");return[process.env.HOME+"/src",n].join("/")}function r(e){return{name:e.original_filename,path:e.url,size:e.bytes}}var t=require(__dirname+"/../../db/schemas/imgs").Img;e.saveImgs=function(e,n){e=e.map(function(e){return e=r(e)});try{var o=new t({realtyId:n,image:e});return o.save(function(e,n){return e?console.error(e):void console.log(n)})}catch(c){console.log(c)}},e.updateImgs=function(e,r){try{return e=e.map(function(e){return e.path=n(e.path),e}),t.findByIdAndUpdate(r,{$set:{image:e}}).exec(function(e,n){return e?(console.error(e),null):n})}catch(o){console.log(o)}}});