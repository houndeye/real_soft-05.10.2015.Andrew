define(["exports"],function(e){"use strict";var s=require(__dirname+"/../db/models/user");e.addNewUser=regeneratorRuntime.mark(function r(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.addUser(this.request.body.fields);case 2:return t=r.sent,t&&(this.session.userId=t._id,this.session.user=t,this.response.status=200,this.response.body=!0),r.next=6,e;case 6:case"end":return r.stop()}},r,this)})});