define(["exports"],function(e){"use strict";function n(e){var n=this.session.userId;return i.saveClient(e,n)}function t(e){var n=e.clientId,t=e.clientParams;return i.updateClient(t,n)}function r(e){return o.findByIdAndRemove(e).exec(function(e,n){return e?(console.log(e),null):n})}function s(e){return o.findById(e._id,function(e,n){e?console.log(e):(n.active=!Boolean(n.active),n.save(function(e,n){return e?(console.log(e),null):n}))})}var i=require(__dirname+"/../db/models/clients"),o=require(__dirname+"/../db/schemas/clients").Client,u=new Map([["save",n],["update",t],["remove",r],["switch",s]]);e.clientQueryHandler=regeneratorRuntime.mark(function a(e){var n,t,r;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.request.body.fields.queryType,t=this.request.body.fields.queryParams,r=u.get(n).bind(this),s.prev=3,s.next=6,r(t);case 6:this.response.body=s.sent,this.response.body?this.response.staus=200:(this.response.staus=200,this.response.body={}),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](3),console.log(s.t0);case 13:return s.next=15,e;case 15:case"end":return s.stop()}},a,this,[[3,10]])})});