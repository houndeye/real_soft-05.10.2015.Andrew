define(["exports","module","reflux","../../../Actions/MyOffice/Client/clientDb","../../../Actions/dbClientActions","../../../helper/ajax"],function(e,t,n,a,i,s){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var o=l(n),u=l(a),c=l(i),r={params:""};t.exports=o["default"].createStore({listenables:[u["default"]],onGetRealtyParams:function(e){console.log(e),r.params=e},getRealtyParams:function(){var e={};return e=r.params},validateRealtyParams:function(e){var t=["minPrice","maxPrice","area"],n=!0;return t.forEach(function(t){e[t]||(n=!1)}),n},onSaveClient:function(){var e=this.getRealtyParams();console.log(e),this.validateRealtyParams(e)&&s.DbRequest("Client","save",e).done(function(e,t){console.log(e),"success"==t&&setTimeout(c["default"].findAllUserClients,300)})},onChangeClientActiveParam:function(e){s.DbRequest("Client","switch",e).done(function(e,t){"success"==t&&setTimeout(c["default"].findAllUserClients,300)})},onUpdateClient:function(e){var t=this.getRealtyParams(),n=e._id;s.DbRequest("Client","update",{clientParams:t,clientId:n}).done(function(e,t){"success"==t&&setTimeout(c["default"].findAllUserClients,300)})},onRemoveClient:function(e){s.DbRequest("Client","remove",e).done(function(e,t){"success"==t&&setTimeout(c["default"].findAllUserClients,300)})}})});